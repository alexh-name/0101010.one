DirectoryIndex index.html

RewriteEngine On
RewriteCond %{HTTPS} !=on
RewriteCond %{ENV:HTTPS} !=on

RewriteRule .* https://%{SERVER_NAME}%{REQUEST_URI} [R=301,L]
RewriteCond %{HTTP_HOST} !=cosmofox.net
RewriteRule (.*) http://cosmofox.net/$1 [R=301,L]

Redirect 301 /howtos/umurmur-auf-uberspace https://how.cosmofox.net/umurmur-auf-Uberspace/
Redirect 301 /howtos/ejabberd-auf-uberspace https://how.cosmofox.net/ejabberd-auf-Uberspace/
Redirect 301 /AP https://how.cosmofox.net/using-open-WiFi/
Redirect 301 /ap https://how.cosmofox.net/using-open-WiFi/
Redirect 301 /gen2 https://gentoo.cosmofox.net/
Redirect 301 /atom.xml https://blog.cosmofox.net/atom.xml

RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule (.*) /about/ [R=302]

ErrorDocument 403 /about/

#Prevent viewing of .htaccess file
<Files .htaccess>
order allow,deny
deny from all
</Files>

#Prevent directory listings
Options SymLinksIfOwnerMatch -Indexes

AddOutputFilterByType DEFLATE text/html text/plain text/xml text/css

<IfModule mod_expires.c>
ExpiresActive on
ExpiresDefault "access plus 1 weeks"
# CSS
ExpiresByType text/css "access plus 1 weeks"
# HTML
ExpiresByType text/html "access plus 0 seconds"
# JavaScript
ExpiresByType application/javascript "access plus 1 weeks"
</IfModule>
