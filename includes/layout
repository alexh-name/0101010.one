# Page content

function page_header {
	print '<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta name="author" content="'"${WSH_AUTHOR}"'" />
	<meta name="description" content="'"${WSH_GENF_DESC}"'" />
	<meta name=viewport content="width=device-width, initial-scale=1" />
	<meta name="twitter:card" content="summary" />
	<meta name="twitter:site" content="'"${WSH_TWITTER_SITE}"'" />
	<meta name="twitter:creator" content="'"${WSH_TWITTER_AUTHOR}"'" />
	<meta name="google-site-verification" content="8bBrYM5UFX29VwEgb_QJ8Vb2QQsxHxvLBvptsDYAGMM" />
	<meta property="og:url" content="https://'${WSH_TIT}'/'${WSH_GENF_HTML}'" />
	<meta property="og:title" content="'"${WSH_GENF_TITLE}"'" />
	<meta property="og:description" content="'"${WSH_GENF_DESC}"'" />'
	if (( WSH_CSS == 1 )); then
		print "\t<link rel=\"stylesheet\" type=\"text/css\" href=\"/${WSH_CSSF}\" />"
	fi
	if [[ -n $WSH_TIT ]]; then
		if [ "${WSH_TIT}" != "${WSH_GENF_TITLE}" ]; then
			print "\t<title>${WSH_TIT}${WSH_GENF_TITLE:+ | $WSH_GENF_TITLE}</title>"
		else
			print "\t<title>${WSH_TIT}</title>"
		fi
	else
		print "\t<title>${WSH_GENF_TITLE}</title>"
	fi
	print '</head>
<body>
<nav>
	<a id="backlink" href="/">⇤</a>
	<a href="#">↑</a>
	<a href="#endlinks">[n]</a>
</nav>
<div id="margin-box">
	<!--<div id="topbox" class="center">
		<img src="/files/logo_w.png" alt="logo"></img>
	</div>-->
	<div id="paper" class="center">
		<article>'
}

function page_footer {
	print '		</article>
	</div>
	<div id="lastlinks" class="center text-center">
		<a href="/about/me.html" target="_blank">about me</a>
		<a href="/atom.xml" target="_blank">atom.xml</a>
		<a href="https://github.com/'${owner}'" target="_blank">github</a>
	</div>
</div>
\t<!-- Page generated by wswsh / '"$(print ${SHELL##*/})"' - '"$(LC_ALL=C date)"' -->
</body>
</html>'
}

function gen_site_xml {
	print '<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

	<title>'"${WSH_TIT}"'</title>
	<subtitle>'"${WSH_SUBTIT}"'</subtitle>
	<link href="http://'${WSH_TIT}'/"/>
	<link type="application/atom+xml" rel="self" href="https://'${WSH_TIT}'/'${RSSDIR}'atom.xml"/>
	<updated>'"${RDAT}"'</updated>
	<author>
		<name>'"${WSH_AUTHOR}"'</name>
	</author>
	<id>http://'"${WSH_TIT}"'/</id>
'
}

function xml_content {
	print '\t<entry>
		<title>'"${WSH_GENF_TITLE}"'</title>
		<link href="https://'${WSH_TIT}'/'${WSH_GENF_HTML}'"/>
		<id>https://'"${WSH_TIT}"'/'"${WSH_GENF_HTML}"'</id>
		<updated>'"${RDADAT}"'</updated>
		<summary>'"${WSH_GENF_DESC}"'</summary>
	</entry>
'
}
